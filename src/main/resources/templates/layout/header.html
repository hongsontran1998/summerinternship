<th:block xmlns:th="http://www.thymeleaf.org" th:fragment="header"
          xmlns:sec="http://www.thymeleaf.org/extras/spring-security" >
   <div class="container">
      <div class="row">
         <div class="col-sm-12">
            <div class="alert alert-danger">
               Header
               <th:block sec:authorize="isAuthenticated()">
                  <div style="color: red" th:text="${T(com.demo.security.UserDetailsUtil).getUserDetails().getUserName()}">
                  </div>
                  <form th:action="@{/logout}" method="post">
                     <!--<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />-->
                     <button class="btn btn-danger btn-sm" type="submit" value="Logout" >Logout</button>
                  </form>
               </th:block>
               <th:block sec:authorize="!isAuthenticated()">
                  <div style="color: red">Login please</div>
               </th:block>
            </div>
         </div>
      </div>
   </div>
</th:block>